(this.webpackJsonpCLIPNOTES=this.webpackJsonpCLIPNOTES||[]).push([[1],{125:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t(49),o=t(0),r=t(6),c=Object(o.createContext)(null),a=function(e){var n=e.children,t=Object(o.useState)(!1),a=Object(i.a)(t,2),s=a[0],l=a[1],u=Object(o.useState)({title:null,content:null,onCancelFunction:function(){},onOkFunction:function(){}}),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(r.jsx)(c.Provider,{value:{open:s,show:function(){l(!0)},hide:function(){l(!1)},setModalConfig:b,modalConfig:j},children:n})};n.b=c},290:function(e,n,t){"use strict";t.r(n);var i=t(0),o=t.n(i),r=t(31),c=t.n(r),a=(t.p,t(211),t(59)),s=t(32),l=t(88),u=t.n(l),d=t(118),j=t(49),b=t(297),f=t(47),p=(t.p,t(312)),O=t(64),m=t(42),g=t(194),h=t.n(g),v=t(6),x=(b.a.Title,"".concat("/bkmrk-web/","images/logo.png")),k=function(e){e.history;var n=Object(i.useState)({email:null,tokenId:null}),t=Object(j.a)(n,2),o=(t[0],t[1],Object(m.h)()),r=Object(j.a)(o,2)[1],c=Object(m.j)(),a=Object(j.a)(c,1)[0],l=a.data;if(a.fetching)return Object(v.jsx)(O.e,{});if(null===l||void 0===l?void 0:l.me)return Object(v.jsx)(s.a,{to:"/repositories"});var b=function(){var e=Object(d.a)(u.a.mark((function e(n){var t,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.tokenId,i=n.profileObj,n.accessToken,r({options:{email:i.email,tokenId:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"login-container",children:[Object(v.jsx)("div",{className:"login-header"}),Object(v.jsxs)("div",{className:"login-form-container",children:[Object(v.jsx)("div",{className:"logo-container",children:Object(v.jsx)("img",{src:x})}),Object(v.jsxs)("div",{className:"login-google",children:[Object(v.jsx)("div",{className:"login-note",children:"Please sign-in using your google account."}),Object(v.jsx)("div",{className:"btn-container",children:Object(v.jsx)(h.a,{clientId:"424430029604-5uck1djtnrj68vp070rf86m1rromhudt.apps.googleusercontent.com",onSuccess:b,onFailure:function(){},render:function(e){return Object(v.jsx)(f.a,{type:"primary",block:!0,size:"large",icon:Object(v.jsx)(p.a,{}),disabled:e.disabled,onClick:e.onClick,children:"Sign in with google"})},buttonText:"Login",cookiePolicy:"single_host_origin"})})]})]}),Object(v.jsx)("div",{className:"login-footer",children:"C"})]})},y=t(33),I=t(126),C=t(198),R=t(48);function N(e,n,t,i){return e.updateQuery(n,(function(e){return i(t,e)}))}var P,_,q=t(34),L=t.n(q),B=Object(R.a)({url:"".concat("http://ec2-3-1-73-78.ap-southeast-1.compute.amazonaws.com:5000","/graphql"),fetchOptions:{credentials:"include"},exchanges:[R.b,Object(C.a)({updates:{Mutation:{login:function(e,n,t,i){N(t,{query:m.b},e,(function(e,n){return e.login.errors?n:(console.log(e.login.user),{me:e.login.user})}))},patchProfile:function(e,n,t,i){N(t,{query:m.b},e,(function(e,n){return console.log(e),{me:e.patchProfile.user}}))},postBookmark:function(e,n,t,i){N(t,{query:m.a},e,(function(n,i){return(null===e||void 0===e?void 0:e.postBookmark.data)&&t.updateQuery({query:m.a},(function(n){var t;return n.getUserArticles.articles.push(null===e||void 0===e||null===(t=e.postBookmark)||void 0===t?void 0:t.data),n})),{getUserArticles:{articles:[].concat(Object(I.a)(i.getUserArticles.articles),[n.postBookmark.data])}}}))},deleteBookmark:function(e,n,t,i){N(t,{query:m.a},e,(function(n,i){var o;return(null===e||void 0===e||null===(o=e.deleteBookmark)||void 0===o?void 0:o.data)&&t.updateQuery({query:m.a},(function(n){var t=n.getUserArticles.articles.filter((function(n){var t,i;return n.id!==(null===e||void 0===e||null===(t=e.deleteBookmark)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.id)}));return n.getUserArticles.articles=t,n})),{getUserArticles:{articles:i.getUserArticles.articles.filter((function(n){var t,i;return n.id!==(null===e||void 0===e||null===(t=e.deleteBookmark)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.id)}))}}}))},postRepository:function(e,n,t,i){var o=L()(P||(P=Object(y.a)(["\n              query GetRepositories {\n                getRepositories {\n                  ...GetRepositoriesQueryVariables\n                }\n              }\n            "])));t.updateQuery({query:o},(function(n){var t;return null===n||void 0===n||null===(t=n.getRepositories)||void 0===t||t.push(null===e||void 0===e?void 0:e.postRepository),n}))},deleteRepository:function(e,n,t,i){var o=L()(_||(_=Object(y.a)(["\n              query GetRepositories {\n                getRepositories {\n                  id\n                  title\n                  description\n                  href\n                }\n              }\n            "])));t.updateQuery({query:o},(function(e){var t,i,o=null===e||void 0===e||null===(t=e.getRepositories)||void 0===t?void 0:t.findIndex((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}));return null===e||void 0===e||null===(i=e.getRepositories)||void 0===i||i.splice(o,1),e}))}}}}),R.c]}),w=t(30),S=t(20),A=t(294),U=(t.p,t(185)),z=t.n(U),T=t(311),$=t(313),F=t(125),M=A.a.Content,G=A.a.Footer,Q=[{label:"Repositories",link:"/repositories",icon:Object(v.jsx)(T.a,{})},{label:"Articles",link:"/articles",icon:Object(v.jsx)($.a,{})}],D=function(e){var n=Object(i.useContext)(F.b);return Object(v.jsxs)(A.a,{children:[Object(v.jsx)(O.b,Object(S.a)({open:n.open},n.modalConfig)),Object(v.jsx)(O.g,{menus:Q}),Object(v.jsxs)(M,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:[Object(v.jsx)(O.a,{menus:Q}),Object(v.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:e.children})]}),Object(v.jsxs)(G,{style:{textAlign:"center"},children:["\xa9 ",z()().format("YYYY")," CLIPNOTES"]})]})},E=function(e){var n=e.component,t=e.path,i=Object(m.j)(),o=Object(j.a)(i,1)[0],r=o.data;return o.fetching?Object(v.jsx)(O.e,{}):(null===r||void 0===r?void 0:r.me)?Object(v.jsx)(D,{children:Object(v.jsx)(s.b,{path:t,component:n})}):Object(v.jsx)(s.a,{to:"/"})},Y=(t.p,o.a.lazy((function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,345))}))),H=o.a.lazy((function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,346))})),K=o.a.lazy((function(){return Promise.all([t.e(4),t.e(9)]).then(t.bind(null,347))})),W=o.a.lazy((function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,350))})),J=o.a.lazy((function(){return t.e(7).then(t.bind(null,351))})),V=function(){return Object(v.jsx)(i.Suspense,{fallback:Object(v.jsx)(O.e,{}),children:Object(v.jsx)(F.a,{children:Object(v.jsx)(a.a,{basename:"/bkmrk-web/",children:Object(v.jsx)(w.b,{value:B,children:Object(v.jsxs)(s.d,{children:[Object(v.jsx)(s.b,{exact:!0,component:k,path:"/"}),Object(v.jsx)(E,{exact:!0,component:Y,path:"/repositories"}),Object(v.jsx)(E,{exact:!0,component:H,path:"/articles"}),Object(v.jsx)(E,{exact:!0,component:K,path:"/bookmarks"}),Object(v.jsx)(E,{exact:!0,component:W,path:"/profile"}),Object(v.jsx)(s.b,{component:J})]})})})})})},X=function(e){e&&e instanceof Function&&t.e(10).then(t.bind(null,348)).then((function(n){var t=n.getCLS,i=n.getFID,o=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),i(e),o(e),r(e),c(e)}))};t.p;c.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(V,{})}),document.getElementById("root")),X()},42:function(e,n,t){"use strict";t.d(n,"l",(function(){return L})),t.d(n,"c",(function(){return w})),t.d(n,"d",(function(){return A})),t.d(n,"h",(function(){return z})),t.d(n,"i",(function(){return $})),t.d(n,"k",(function(){return M})),t.d(n,"m",(function(){return Q})),t.d(n,"a",(function(){return D})),t.d(n,"g",(function(){return E})),t.d(n,"e",(function(){return H})),t.d(n,"f",(function(){return W})),t.d(n,"b",(function(){return J})),t.d(n,"j",(function(){return V}));var i,o,r,c,a,s,l,u,d,j,b,f,p,O,m,g,h,v=t(20),x=t(33),k=t(34),y=t.n(k),I=(t(0),t(30)),C=(t(6),y()(i||(i=Object(x.a)(["\n    fragment Article on Article {\n  id\n  href\n  idno\n  title\n  description\n  content\n  comments_count\n  public_reactions_count\n  positive_reactions_count\n  avatar\n}\n    "])))),R=y()(o||(o=Object(x.a)(["\n    fragment Interest on Interest {\n  id\n  interest\n}\n    "]))),N=y()(r||(r=Object(x.a)(["\n    fragment Language on Language {\n  id\n  language\n  color\n  value\n}\n    "]))),P=y()(c||(c=Object(x.a)(["\n    fragment Repository on Repository {\n  id\n  title\n  description\n  href\n}\n    "]))),_=(y()(a||(a=Object(x.a)(["\n    fragment Response on Response {\n  code\n  message\n}\n    "]))),y()(s||(s=Object(x.a)(["\n    fragment User on User {\n  id\n  email\n  first_name\n  last_name\n  avatar\n}\n    "])))),q=y()(l||(l=Object(x.a)(["\n    mutation PostBookmark($input: inputBookmark!) {\n  postBookmark(input: $input) {\n    code\n    message\n    data {\n      ...Article\n    }\n  }\n}\n    ",""])),C);function L(){return I.d(q)}var B=y()(u||(u=Object(x.a)(["\n    mutation DeleteBookmark($id: Int!) {\n  deleteBookmark(id: $id) {\n    code\n    message\n    data {\n      ...Article\n    }\n  }\n}\n    ",""])),C);function w(){return I.d(B)}var S=y()(d||(d=Object(x.a)(["\n    mutation DeleteRepository($id: Int!) {\n  deleteRepository(id: $id)\n}\n    "])));function A(){return I.d(S)}var U=y()(j||(j=Object(x.a)(["\n    mutation Login($options: inputLogin!) {\n  login(options: $options) {\n    user {\n      ...User\n      interests {\n        ...Interest\n      }\n    }\n    errors {\n      field\n      message\n    }\n  }\n}\n    ","\n",""])),_,R);function z(){return I.d(U)}var T=y()(b||(b=Object(x.a)(["\n    mutation Logout {\n  logout\n}\n    "])));function $(){return I.d(T)}var F=y()(f||(f=Object(x.a)(["\n    mutation PatchProfile($options: inputPatchUser!) {\n  patchProfile(options: $options) {\n    user {\n      ...User\n      interests {\n        ...Interest\n      }\n      language {\n        ...Language\n      }\n    }\n  }\n}\n    ","\n","\n",""])),_,R,N);function M(){return I.d(F)}var G=y()(p||(p=Object(x.a)(["\n    mutation PostRepository($input: inputRepository!) {\n  postRepository(input: $input) {\n    code\n    message\n    data {\n      ...Repository\n    }\n  }\n}\n    ",""])),P);function Q(){return I.d(G)}var D=y()(O||(O=Object(x.a)(["\n    query GetUserArticles {\n  getUserArticles {\n    articles {\n      ...Article\n    }\n  }\n}\n    ",""])),C);function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I.e(Object(v.a)({query:D},e))}var Y=y()(m||(m=Object(x.a)(["\n    query GetLanguage {\n  getLanguages {\n    ...Language\n  }\n}\n    ",""])),N);function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I.e(Object(v.a)({query:Y},e))}var K=y()(g||(g=Object(x.a)(["\n    query GetRepositories {\n  getRepositories {\n    ...Repository\n  }\n}\n    ",""])),P);function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I.e(Object(v.a)({query:K},e))}var J=y()(h||(h=Object(x.a)(["\n    query Me {\n  me {\n    ...User\n    interests {\n      ...Interest\n    }\n    language {\n      ...Language\n    }\n  }\n}\n    ","\n","\n",""])),_,R,N);function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I.e(Object(v.a)({query:J},e))}},64:function(e,n,t){"use strict";t.d(n,"g",(function(){return I})),t.d(n,"e",(function(){return R})),t.d(n,"a",(function(){return P})),t.d(n,"d",(function(){return F})),t.d(n,"f",(function(){return G})),t.d(n,"b",(function(){return Q})),t.d(n,"c",(function(){return K}));var i=t(20),o=t(88),r=t.n(o),c=t(118),a=t(49),s=t(150),l=t(0),u=t.n(l),d=t(294),j=t(65),b=t(32),f=t(59),p=(t.p,t(303)),O=t(304),m=t(305),g=t(306),h=t(42),v=t(6),x=d.a.Header,k=j.a.SubMenu,y="".concat("/bkmrk-web/","images/logo.png"),I=function(e){var n,t,o=e.menus,u=(Object(s.a)(e,["menus"]),Object(b.g)()),d=Object(l.useState)(!1),I=Object(a.a)(d,2),C=(I[0],I[1],Object(h.i)()),R=Object(a.a)(C,2),N=(R[0].fetching,R[1]),P=Object(h.j)(),_=Object(a.a)(P,1)[0],q=_.data,L=(_.fetching,function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:window.location.href="/";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(v.jsxs)(x,{style:{position:"fixed",zIndex:1,width:"100%"},children:[Object(v.jsx)("div",{className:"logo",children:Object(v.jsx)("img",{src:y})}),Object(v.jsxs)(j.a,Object(i.a)(Object(i.a)({mode:"horizontal",defaultSelectedKeys:o.some((function(e){return e.link===u.pathname}))?o[o.findIndex((function(e){return e.link===u.pathname}))].label:"bookmarks"},o.findIndex((function(e){return e.link===u.pathname}))>-1?{activeKey:o[o.findIndex((function(e){return e.link===u.pathname}))].label}:{}),{},{children:[o.map((function(e){return Object(v.jsx)(j.a.Item,{icon:e.icon,children:Object(v.jsx)(f.b,{to:e.link,children:e.label})},e.label)})),Object(v.jsxs)(k,{icon:Object(v.jsx)(p.a,{}),title:"".concat(null===q||void 0===q||null===(n=q.me)||void 0===n?void 0:n.first_name," ").concat(null===q||void 0===q||null===(t=q.me)||void 0===t?void 0:t.last_name),style:{float:"right"},children:[Object(v.jsx)(j.a.Item,{children:Object(v.jsxs)(f.b,{to:"/profile",children:[Object(v.jsx)(O.a,{})," My profile"]})},"profile"),Object(v.jsx)(j.a.Item,{children:Object(v.jsxs)(f.b,{to:"/bookmarks",children:[Object(v.jsx)(m.a,{})," My bookmarks"]})},"bookmarks"),Object(v.jsxs)(j.a.Item,{onClick:function(){return L()},children:[Object(v.jsx)(g.a,{})," Logout"]},"setting:4")]},"SubMenu")]}))]})},C=(t(296),t(298),t(147)),R=(t.p,function(e){e.open;return Object(v.jsx)("div",{className:"loader-overlay",children:Object(v.jsxs)("div",{className:"loader-container",children:[Object(v.jsx)(C.a,{size:"large"}),Object(v.jsx)("div",{children:"Loading..."})]})})}),N=t(292),P=function(e){var n=e.menus,t=Object(b.g)();return Object(v.jsxs)(N.a,{style:{margin:"16px 0"},children:[Object(v.jsx)(N.a.Item,{children:"Home"}),"/"!==t.pathname&&Object(v.jsx)(N.a.Item,{children:Object(v.jsx)("a",{href:t.pathname,children:n.some((function(e){return e.link===t.pathname}))?n.find((function(e){return e.link===t.pathname})).label:"Bookmarks"})})]})},_=(t(295),t(126)),q=t(300),L=t(301),B=t(302),w=t(47),S=t(291),A=t(307),U=t(308),z=t(309),T=t(310),$=t(311),F=(t.p,function(e){var n=e.listData,t=e.onClickBookmark,o=e.articles,r=e.onChangePage,c=e.total,a=e.onDeleteBookmark,s=e.page,l=Object(b.g)(),d=function(e){return Object(v.jsxs)(q.b,{children:[u.a.createElement(e.icon),e.text]})};return Object(v.jsx)(L.b,{itemLayout:"vertical",size:"large",pagination:!!(c&&c>10)&&{onChange:function(e){return r(e)},pageSize:10,total:c||0,current:s},locale:{emptyText:Object(v.jsx)(K,{title:"We can't found any data!",subtitle:"We can't found any articles/repositories that you bookmark."})},dataSource:n,renderItem:function(e){return Object(v.jsx)(L.b.Item,{actions:[Object(v.jsx)(d,{icon:A.a,text:(null===e||void 0===e?void 0:e.public_reactions_count)||0},"list-vertical-star-o"),Object(v.jsx)(d,{icon:U.a,text:(null===e||void 0===e?void 0:e.positive_reactions_count)||0},"list-vertical-like-o"),Object(v.jsx)(d,{icon:z.a,text:"".concat(e.comments_count?e.comments_count:0)},"list-vertical-message"),Object(_.a)(e&&e.tag_list?e.tag_list.map((function(e){return Object(v.jsx)(B.a,{color:"geekblue-inverse",children:e},e)})):[])],extra:"/bookmarks"!==l.pathname?Object(v.jsx)(w.a,Object(i.a)(Object(i.a)(Object(i.a)({type:"link"},o&&o.some((function(n){return n.idno==e.id}))?{className:"btn-warning"}:{}),{},{icon:Object(v.jsx)(m.a,{})},t?{onClick:function(){return t(e)}}:{}),{},{children:o&&o.some((function(n){return n.idno==e.id}))?"bookmarked":"bookmark"})):Object(v.jsx)(w.a,{type:"link",icon:Object(v.jsx)(T.a,{}),danger:!0,onClick:function(){a&&a(e.id)}}),children:Object(v.jsx)(L.b.Item.Meta,{avatar:e.avatar?Object(v.jsx)(S.a,{src:e.avatar}):Object(v.jsx)($.a,{}),title:Object(v.jsx)("a",{href:e.href,target:"_blank",children:e.title}),description:e.description})},e.id)}})}),M=t(299),G=function(e){var n=e.toggleModal,t=e.onCancel,o=e.title,r=e.open,c=e.content;return Object(v.jsx)(M.a,Object(i.a)(Object(i.a)({},o?{title:o}:{}),{},{visible:r,onCancel:function(){return t()},footer:[Object(v.jsx)(w.a,{onClick:function(){return n()},children:"OK"},"okay")],children:Object(v.jsx)("p",{children:c})}))},Q=function(e){var n=e.title,t=e.content,o=e.open,r=e.onOkFunction,c=e.onCancelFunction;return Object(v.jsx)(M.a,Object(i.a)(Object(i.a)({},n?{title:n}:{}),{},{visible:o,onCancel:function(){return c()},footer:[Object(v.jsx)(w.a,{onClick:function(){return c()},children:"Cancel"},"cancel"),Object(v.jsx)(w.a,{onClick:function(){return r()},danger:!0,children:"Yes"},"okay")],children:Object(v.jsx)("p",{children:t})}))},D=(t.p,t(297)),E=D.a.Title,Y=D.a.Text,H="".concat("/bkmrk-web/","svgs/empty.svg"),K=function(e){var n=e.title,t=e.subtitle;return console.log("this is the title",n),Object(v.jsx)("div",{className:"empty-data-container",children:Object(v.jsxs)("div",{className:"emptyImg-container",children:[Object(v.jsx)("img",{src:H}),Object(v.jsxs)("div",{className:"empty-text",children:[Object(v.jsx)(E,{level:5,children:n||"No data found!"}),Object(v.jsx)(Y,{type:"secondary",children:t||"We can't found any articles that you bookmark."})]})]})})}}},[[290,2,3]]]);
//# sourceMappingURL=main.4f54ad17.chunk.js.map