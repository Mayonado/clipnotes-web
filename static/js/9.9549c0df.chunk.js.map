{"version":3,"sources":["pages/Bookmarks/Bookmarks.tsx"],"names":["TabPane","Tabs","Bookmarks","modal","useContext","ModalContext","useState","useGetUserArticlesQuery","data","fetching","useDeleteBookmarkMutation","deleteBookmark","useDeleteRepositoryMutation","deleteRepository","useGetRepositoriesQuery","repositoryData","fetchingRepository","onDeleteBookmark","id","a","hide","onDeleteRepository","toggleOnDeleteRepositoryModal","setModalConfig","title","content","onCancelFunction","onOkFunction","show","className","tabPosition","defaultActiveKey","tab","listData","getRepositories","total","length","getUserArticles","articles"],"mappings":"0QAaQA,EAAYC,IAAZD,QAIKE,EAAsC,SAAC,GAAQ,IAAD,uBACzD,IAAMC,EAAaC,qBAAWC,KAD2B,EAE7BC,mBAAiB,GAFY,gCAGvBA,mBAAiB,IAHM,gCAI5BC,eAJ4B,sBAIhDC,EAJgD,EAIhDA,KAAMC,EAJ0C,EAI1CA,SAJ0C,EAK9BC,cAAlBC,EALgD,sBAM5BC,cAApBC,EANgD,sBASrDC,cATqD,sBAQ/CC,EAR+C,EAQrDP,KAAgCQ,EARqB,EAQ/BP,SAkBpBQ,EAAgB,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACjBR,EAAe,CACnBO,OAFqB,OAIvBf,EAAMiB,OAJiB,2CAAH,sDAQhBC,EAAkB,uCAAG,WAAOH,GAAP,SAAAC,EAAA,sEAEnBN,EAAiB,CACrBK,OAHuB,OAKzBf,EAAMiB,OALmB,2CAAH,sDAQlBE,EAA6B,uCAAG,WAAOJ,GAAP,SAAAC,EAAA,sDACpChB,EAAMoB,eAAe,CACnBC,MAAO,oBACPC,QACE,0GACFC,iBAAkB,kBAAMvB,EAAMiB,QAC9BO,aAAc,kBAAMN,EAAmBH,MAEzCf,EAAMyB,OAR8B,2CAAH,sDAWnC,OACE,gCACE,cAAC,IAAD,CAAYC,UAAU,mBAAmBL,MAAM,cAC/C,cAAC,IAAD,IACA,eAAC,IAAD,CAAMM,YAAY,OAAOC,iBAAiB,IAA1C,UAaE,cAAC/B,EAAD,CAASgC,IAAI,eAAb,SACE,cAAC,IAAD,CACEC,SACGjB,EAAuD,GAAxD,OAAsBD,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAgBmB,gBAExCC,MAAK,OAAEpB,QAAF,IAAEA,GAAF,UAAEA,EAAgBmB,uBAAlB,aAAE,EAAiCE,OACxCnB,iBAAkBK,KANU,KAWhC,cAACtB,EAAD,CAASgC,IAAI,WAAb,SACE,cAAC,IAAD,CACEC,SAAWxB,EAA6C,GAA9C,OAAYD,QAAZ,IAAYA,GAAZ,UAAYA,EAAM6B,uBAAlB,aAAY,EAAuBC,SAC7CH,MAAK,OAAE3B,QAAF,IAAEA,GAAF,UAAEA,EAAM6B,uBAAR,iBAAE,EAAuBC,gBAAzB,aAAE,EAAiCF,OACxCnB,iBA1EkB,SAACC,GAK3Bf,EAAMoB,eAAe,CACnBC,MAAO,oBACPC,QACE,gGACFC,iBAAkB,kBAAMvB,EAAMiB,QAC9BO,aAAc,kBAAMV,EAAiBC,MAEvCf,EAAMyB,WA0D0B,YAarB1B","file":"static/js/9.9549c0df.chunk.js","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { PageHeader, Tabs, Divider } from 'antd';\r\nimport { List, ConfirmationModal } from '../../components';\r\nimport {\r\n  useGetUserArticlesQuery,\r\n  useDeleteBookmarkMutation,\r\n  useGetRepositoriesQuery,\r\n  useDeleteRepositoryMutation,\r\n} from '../../generated/graphql';\r\n\r\nimport ModalContext from '../../context/ModalContext/ModalContext';\r\nimport { useEffect } from 'react';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\ninterface BookmarksProps {}\r\n\r\nexport const Bookmarks: React.FC<BookmarksProps> = ({}) => {\r\n  const modal: any = useContext(ModalContext);\r\n  const [repoId, setRepoId] = useState<number>(0);\r\n  const [articleId, setArticleId] = useState<number>(0);\r\n  const [{ data, fetching }] = useGetUserArticlesQuery();\r\n  const [, deleteBookmark] = useDeleteBookmarkMutation();\r\n  const [, deleteRepository] = useDeleteRepositoryMutation();\r\n  const [\r\n    { data: repositoryData, fetching: fetchingRepository },\r\n  ] = useGetRepositoriesQuery();\r\n\r\n  const toggleOnDeleteModal = (id: any) => {\r\n    // setOpenConfirmation({\r\n    //   show: !openConfirmation.show,\r\n    //   id: id,\r\n    // });\r\n    modal.setModalConfig({\r\n      title: 'Are you sure you?',\r\n      content:\r\n        \"Once you delete this article on your bookmark possibly you can't find it on list of articles.\",\r\n      onCancelFunction: () => modal.hide(),\r\n      onOkFunction: () => onDeleteBookmark(id),\r\n    });\r\n    modal.show();\r\n  };\r\n\r\n  const onDeleteBookmark = async (id: number) => {\r\n    await deleteBookmark({\r\n      id,\r\n    });\r\n    modal.hide();\r\n    // setArticleId();\r\n  };\r\n\r\n  const onDeleteRepository = async (id: any) => {\r\n    // console.log('REPO ID', repoId);\r\n    await deleteRepository({\r\n      id,\r\n    });\r\n    modal.hide();\r\n  };\r\n\r\n  const toggleOnDeleteRepositoryModal = async (id: any) => {\r\n    modal.setModalConfig({\r\n      title: 'Are you sure you?',\r\n      content:\r\n        'This repository will delete permanently and possible you will not see this repository in trending list.',\r\n      onCancelFunction: () => modal.hide(),\r\n      onOkFunction: () => onDeleteRepository(id),\r\n    });\r\n    modal.show();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PageHeader className=\"site-page-header\" title=\"Bookmarks\" />\r\n      <Divider />\r\n      <Tabs tabPosition=\"left\" defaultActiveKey=\"1\">\r\n        {/* <ConfirmationModal\r\n          title=\"Are you sure you want to delete this bookmark?\"\r\n          content=\"Once you delete this article on your bookmark possibly you can't find it on list of articles.\"\r\n          onOkFunction={() => onDeleteBookmark()}\r\n          onCancelFunction={() =>\r\n            setOpenConfirmation({\r\n              show: false,\r\n              id: null,\r\n            })\r\n          }\r\n          open={openConfirmation.show}\r\n        /> */}\r\n        <TabPane tab=\"Repositories\" key=\"1\">\r\n          <List\r\n            listData={\r\n              !fetchingRepository ? repositoryData?.getRepositories : []\r\n            }\r\n            total={repositoryData?.getRepositories?.length}\r\n            onDeleteBookmark={toggleOnDeleteRepositoryModal}\r\n            // onClickBookmark={onClickBookmark}\r\n            // bookmarks={bookmarks?.getUserBookmarks?.bookmarks}\r\n          />\r\n        </TabPane>\r\n        <TabPane tab=\"Articles\" key=\"2\">\r\n          <List\r\n            listData={!fetching ? data?.getUserArticles?.articles : []}\r\n            total={data?.getUserArticles?.articles?.length}\r\n            onDeleteBookmark={toggleOnDeleteModal}\r\n            // onClickBookmark={onClickBookmark}\r\n            // bookmarks={bookmarks?.getUserBookmarks?.bookmarks}\r\n          />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\nexport default Bookmarks;\r\n"],"sourceRoot":""}